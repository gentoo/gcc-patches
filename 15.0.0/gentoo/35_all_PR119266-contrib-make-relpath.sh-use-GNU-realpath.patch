From 0a2fe8f7a000a13005688aea980b90befe917a8e Mon Sep 17 00:00:00 2001
Message-ID: <0a2fe8f7a000a13005688aea980b90befe917a8e.1741860425.git.sam@gentoo.org>
From: Sam James <sam@gentoo.org>
Date: Thu, 13 Mar 2025 10:06:29 +0000
Subject: [PATCH] contrib: make relpath.sh use GNU realpath

contrib/ChangeLog:
	PR libstdc++/119266

        * relpath.sh: Use GNU realpath.
---
 contrib/relpath.sh | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/contrib/relpath.sh b/contrib/relpath.sh
index 1b329fc04a78..3930b7730d0b 100755
--- a/contrib/relpath.sh
+++ b/contrib/relpath.sh
@@ -10,6 +10,9 @@ fi
 from="${1%%/}"
 to="${2%%/}"
 
+# XXX: Hack for https://gcc.gnu.org/PR119266
+exec realpath --relative-to="${from}" "${to}"
+
 # The parent directory of a pathname, handling ..
 parent() {
     name=$(basename "$1")

base-commit: d8a3944b440777d2d6fb4a9f456189a0dc439ec8
-- 
2.48.1

